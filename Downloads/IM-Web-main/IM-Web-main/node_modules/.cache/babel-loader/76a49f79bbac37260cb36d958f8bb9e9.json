{"remainingRequest":"C:\\Users\\shenq\\Downloads\\IM-Web-wdy01 (1)\\IM-Web-wdy01\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\shenq\\Downloads\\IM-Web-wdy01 (1)\\IM-Web-wdy01\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\shenq\\Downloads\\IM-Web-wdy01 (1)\\IM-Web-wdy01\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\shenq\\Downloads\\IM-Web-wdy01 (1)\\IM-Web-wdy01\\src\\views\\consultant\\record.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\shenq\\Downloads\\IM-Web-wdy01 (1)\\IM-Web-wdy01\\src\\views\\consultant\\record.vue","mtime":1649933650000},{"path":"C:\\Users\\shenq\\Downloads\\IM-Web-wdy01 (1)\\IM-Web-wdy01\\babel.config.js","mtime":1649933650000},{"path":"C:\\Users\\shenq\\Downloads\\IM-Web-wdy01 (1)\\IM-Web-wdy01\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\shenq\\Downloads\\IM-Web-wdy01 (1)\\IM-Web-wdy01\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\shenq\\Downloads\\IM-Web-wdy01 (1)\\IM-Web-wdy01\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\shenq\\Downloads\\IM-Web-wdy01 (1)\\IM-Web-wdy01\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      dialogFormVisible2: false,\n      dictTotal: 0,\n      dictCurrentPage: 1,\n      dictPageSize: 10,\n      name: '',\n      time: '',\n      tableData: [],\n      form_detail: {\n        comment: '',\n        consultantTrueName: '',\n        customerTrueName: '',\n        date: '',\n        endTime: '',\n        helperTrueName: '',\n        level: '',\n        startTime: ''\n      }\n    };\n  },\n  mounted: function mounted() {\n    this.initData();\n  },\n  methods: {\n    initData: function initData() {\n      var _this = this;\n\n      // this.dictTotal = this.tableData.length\n      this.$http({\n        url: '/record/getRecordList',\n        method: 'post',\n        crossdomain: true,\n        body: JSON.stringify({\n          'consultantID': this.$store1.state.userid\n        })\n      }).then(function (res) {\n        console.log(res.data.data);\n        _this.dictTotal = res.data.data.length;\n        _this.tableData = res.data.data;\n      }).catch(function (err) {\n        console.log(err.data);\n      });\n    },\n    ban: function ban(row) {},\n    stateFormat: function stateFormat(row, column) {\n      if (row.level === 0) {\n        return '';\n      } else if (row.level === 1) {\n        return '⭐';\n      } else if (row.level === 2) {\n        return '⭐⭐';\n      } else if (row.level === 3) {\n        return '⭐⭐⭐';\n      } else if (row.level === 4) {\n        return '⭐⭐⭐⭐';\n      } else {\n        return '⭐⭐⭐⭐⭐';\n      }\n    },\n    detail: function detail(row) {\n      this.dialogFormVisible2 = true;\n      this.form_detail = row;\n    },\n    // 设置表头颜色\n    headClass: function headClass() {\n      return 'background:#e1e9f4;';\n    },\n    // 实时监听查询内容，更新列表\n    seachRecord: function seachRecord() {\n      var _this2 = this;\n\n      console.log('检测到变化' + this.name + this.time);\n\n      if (this.time == '' || this.time == null) {\n        this.$http({\n          url: '/record/getRecordList',\n          method: 'post',\n          crossdomain: true,\n          body: JSON.stringify({\n            'consultantID': this.$store1.state.userid,\n            'customerTrueName': this.name\n          })\n        }).then(function (res) {\n          console.log(res.data.data);\n          _this2.dictTotal = res.data.data.length;\n          _this2.tableData = res.data.data;\n        }).catch(function (err) {\n          console.log(err.data);\n        });\n      } else {\n        var time_temp = this.time.slice(1, this.time.length - 1) + ' 00:00:00';\n        this.$http({\n          url: '/record/getRecordList',\n          method: 'post',\n          crossdomain: true,\n          body: JSON.stringify({\n            'consultantID': this.$store1.state.userid,\n            'customerTrueName': this.name,\n            'date': time_temp\n          })\n        }).then(function (res) {\n          console.log(res.data.data);\n          _this2.dictTotal = res.data.data.length;\n          _this2.tableData = res.data.data;\n        }).catch(function (err) {\n          console.log(err.data);\n        });\n      }\n    }\n  }\n};",{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+EA;AACAA,MADA,kBACA;AACA;AACAC,+BADA;AAEAC,kBAFA;AAGAC,wBAHA;AAIAC,sBAJA;AAKAC,cALA;AAMAC,cANA;AAOAC,mBAPA;AAQAC;AACAC,mBADA;AAEAC,8BAFA;AAGAC,4BAHA;AAIAC,gBAJA;AAKAC,mBALA;AAMAC,0BANA;AAOAC,iBAPA;AAQAC;AARA;AARA;AAmBA,GArBA;AAsBAC,SAtBA,qBAsBA;AACA;AACA,GAxBA;AAyBAC;AACAC,YADA,sBACA;AAAA;;AACA;AACA;AACAC,oCADA;AAEAC,sBAFA;AAGAC,yBAHA;AAIAC;AACA;AADA;AAJA,SAOAC,IAPA,CAOA;AACAC;AACA;AACA;AACA,OAXA,EAWAC,KAXA,CAWA;AACAD;AACA,OAbA;AAcA,KAjBA;AAkBAE,OAlBA,eAkBAC,GAlBA,EAkBA,CAEA,CApBA;AAqBAC,eArBA,uBAqBAD,GArBA,EAqBAE,MArBA,EAqBA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAnCA;AAoCAC,UApCA,kBAoCAH,GApCA,EAoCA;AACA;AACA;AACA,KAvCA;AAwCA;AACAI,aAzCA,uBAyCA;AACA;AACA,KA3CA;AA4CA;AACAC,eA7CA,yBA6CA;AAAA;;AACAR;;AACA;AACA;AACAL,sCADA;AAEAC,wBAFA;AAGAC,2BAHA;AAIAC;AACA,qDADA;AAEA;AAFA;AAJA,WAQAC,IARA,CAQA;AACAC;AACA;AACA;AACA,SAZA,EAYAC,KAZA,CAYA;AACAD;AACA,SAdA;AAeA,OAhBA,MAgBA;AACA;AACA;AACAL,sCADA;AAEAC,wBAFA;AAGAC,2BAHA;AAIAC;AACA,qDADA;AAEA,yCAFA;AAGA;AAHA;AAJA,WASAC,IATA,CASA;AACAC;AACA;AACA;AACA,SAbA,EAaAC,KAbA,CAaA;AACAD;AACA,SAfA;AAgBA;AACA;AAlFA;AAzBA","names":["data","dialogFormVisible2","dictTotal","dictCurrentPage","dictPageSize","name","time","tableData","form_detail","comment","consultantTrueName","customerTrueName","date","endTime","helperTrueName","level","startTime","mounted","methods","initData","url","method","crossdomain","body","then","console","catch","ban","row","stateFormat","column","detail","headClass","seachRecord"],"sourceRoot":"src/views/consultant","sources":["record.vue"],"sourcesContent":["<template>\n  <div class=\"page\">\n    <div class=\"search\">\n      <div style=\"display: inline-block;width: 250px\">\n        搜索名字\n        <div class=\"item\">\n          <el-input v-model=\"name\" placeholder=\"请输入内容\" @input=\"seachRecord\" />\n        </div>\n      </div>\n      <div style=\"display: inline-block;margin-left: 30px\">\n        选择日期\n        <div class=\"item\">\n          <el-date-picker\n            v-model=\"time\"\n            type=\"date\"\n            placeholder=\"选择日期\"\n            value-format=\"“yyyy-MM-dd”\"\n            @change=\"seachRecord\"\n          />\n        </div>\n      </div>\n\n    </div>\n    <el-dialog title=\"\" :visible.sync=\"dialogFormVisible2\">\n      <div style=\"font-size: 2em;margin-left: 20px;color: black\">详情信息</div>\n      <div style=\"margin-top: 20px;margin-left: 20px;font-size: 1.5em;line-height: 2em\">\n        <div style=\"display: inline-block;width: 50%;border-bottom: 1px solid grey\">访客:    {{form_detail.customerTrueName}}</div>\n        <div style=\"display: inline-block;width: 50%;border-bottom: 1px solid grey\">咨询师: {{form_detail.consultantTrueName}}</div>\n        <div style=\"display: inline-block;width: 50%;border-bottom: 1px solid grey\">求助督导: {{form_detail.helperTrueName}}</div>\n        <div style=\"display: inline-block;width: 50%;border-bottom: 1px solid grey\">评分: {{form_detail.level}}</div>\n        <div style=\"display: inline-block;width: 50%;border-bottom: 1px solid grey\">评语: {{form_detail.comment}}</div>\n        <div style=\"display: inline-block;width: 50%;border-bottom: 1px solid grey\">日期: {{form_detail.date}}</div>\n        <div style=\"display: inline-block;width: 50%;border-bottom: 1px solid grey\">开始时间: {{form_detail.startTime}}</div>\n        <div style=\"display: inline-block;width: 50%;border-bottom: 1px solid grey\">结束时间: {{form_detail.endTime}}</div>\n      </div>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button type=\"primary\" @click=\"dialogFormVisible2=false\">确 定</el-button>\n      </div>\n    </el-dialog>\n    <div class=\"table\">\n      <el-table :data=\"tableData.slice((dictCurrentPage-1)*dictPageSize,dictCurrentPage*dictPageSize)\" style=\"overflow:auto;width:100%;\" height=\"90%\" :header-cell-style=\"headClass\">\n        <el-table-column prop=\"customerTrueName\" label=\"访客\" fixed />\n        <el-table-column prop=\"consultantTrueName\" label=\"咨询师\" />\n        <el-table-column prop=\"date\" label=\"日期\" />\n        <el-table-column prop=\"startTime\" label=\"开始时间\" />\n        <el-table-column prop=\"endTime\" label=\"结束时间\" />\n        <el-table-column prop=\"helperTrueName\" label=\"求助督导\" />\n        <el-table-column prop=\"level\" label=\"平均咨询等级\" :formatter=\"stateFormat\" width=\"120px\"/>\n        <el-table-column header-align=\"center\" align=\"center\" prop=\"operate\" label=\"操作\" width=\"200px\" fixed=\"right\">\n          <template slot-scope=\"scope\">\n            <el-button\n              size=\"small\"\n              style=\"background-color: #b1c0d0\"\n              @click=\"detail(scope.row)\"\n            >查看详情\n            </el-button>\n            <el-button\n              size=\"small\"\n              style=\"background-color: #b1c0d0\"\n              @click=\"ban(scope.row)\"\n            >导出记录\n            </el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n      <el-pagination\n        class=\"fy\"\n        layout=\"sizes, prev, pager, next, total\"\n        :current-page.sync=\"dictCurrentPage\"\n        :total=\"dictTotal\"\n        background\n        :page-sizes=\"[10, 20, 30, 40]\"\n        :page-size.sync=\"dictPageSize\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      dialogFormVisible2:false,\n      dictTotal: 0,\n      dictCurrentPage: 1,\n      dictPageSize: 10,\n      name: '',\n      time: '',\n      tableData: [],\n      form_detail: {\n        comment: '',\n        consultantTrueName:'',\n        customerTrueName:'',\n        date:'',\n        endTime:'',\n        helperTrueName:'',\n        level:'',\n        startTime:''\n      }\n    }\n  },\n  mounted() {\n    this.initData()\n  },\n  methods: {\n    initData() {\n      // this.dictTotal = this.tableData.length\n      this.$http({\n        url: '/record/getRecordList',\n        method: 'post',\n        crossdomain: true,\n        body:JSON.stringify({\n          'consultantID': this.$store1.state.userid,\n        })\n      }).then(res => {\n        console.log(res.data.data)\n        this.dictTotal = res.data.data.length\n        this.tableData=res.data.data\n      }).catch(err => {\n        console.log(err.data)\n      })\n    },\n    ban(row) {\n\n    },\n    stateFormat(row, column) {\n      if (row.level === 0) {\n        return ''\n      } else if (row.level === 1) {\n        return '⭐'\n      }else if (row.level === 2) {\n        return '⭐⭐'\n      } else if (row.level === 3) {\n        return '⭐⭐⭐'\n      }else if (row.level === 4) {\n        return '⭐⭐⭐⭐'\n      } else {\n        return '⭐⭐⭐⭐⭐'\n      }\n    },\n    detail(row) {\n      this.dialogFormVisible2=true\n      this.form_detail=row\n    },\n    // 设置表头颜色\n    headClass() {\n      return 'background:#e1e9f4;'\n    },\n    // 实时监听查询内容，更新列表\n    seachRecord() {\n      console.log('检测到变化' + this.name + this.time)\n      if(this.time==''||this.time==null) {\n        this.$http({\n          url: '/record/getRecordList',\n          method: 'post',\n          crossdomain: true,\n          body:JSON.stringify({\n            'consultantID': this.$store1.state.userid,\n            'customerTrueName': this.name,\n          })\n        }).then(res => {\n          console.log(res.data.data)\n          this.dictTotal = res.data.data.length\n          this.tableData=res.data.data\n        }).catch(err => {\n          console.log(err.data)\n        })\n      }else {\n        var time_temp=this.time.slice(1,this.time.length-1)+' 00:00:00'\n        this.$http({\n          url: '/record/getRecordList',\n          method: 'post',\n          crossdomain: true,\n          body:JSON.stringify({\n            'consultantID': this.$store1.state.userid,\n            'customerTrueName': this.name,\n            'date':time_temp\n          })\n        }).then(res => {\n          console.log(res.data.data)\n          this.dictTotal = res.data.data.length\n          this.tableData=res.data.data\n        }).catch(err => {\n          console.log(err.data)\n        })\n      }\n    }\n\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\ninput[type=\"text\"],#btn1,#btn2{\n  box-sizing: border-box;\n  text-align:left;\n  font-size:1em;\n  height:2.5em;\n  border-radius:4px;\n  border:1px solid #c8cccf;\n  color:#6a6f77;\n  -web-kit-appearance:none;\n  -moz-appearance: none;\n  display:block;\n  outline:0;\n  padding:0 1em;\n  text-decoration:none;\n  width:20%;\n}\ninput[type=\"text\"]:focus{\n  border:1px solid #5498e5;\n}\n.page {\n  height: 95%;\n  position: relative;\n  margin-top: 20px;\n  .search{\n    margin-left: 1%;\n    text-align: left;\n    .item{\n      margin-top: 10px;\n      margin-bottom: 10px;\n      width: 250px;\n    }\n  }\n  .table{\n    width: 98%;\n    margin: 0 auto;\n    height: 88%;\n    .fy {\n      height: 10%;\n      position: absolute;\n      margin-top: 20px;\n      right: 10px;\n    }\n  }\n}\n</style>\n"]}]}