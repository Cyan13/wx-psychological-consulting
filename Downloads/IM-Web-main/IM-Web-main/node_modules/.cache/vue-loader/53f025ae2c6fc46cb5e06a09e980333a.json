{"remainingRequest":"D:\\project\\softwareDevelopment\\IM-Web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\project\\softwareDevelopment\\IM-Web\\src\\views\\admin\\schedule.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\project\\softwareDevelopment\\IM-Web\\src\\views\\admin\\schedule.vue","mtime":1649921951456},{"path":"D:\\project\\softwareDevelopment\\IM-Web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1649921788008},{"path":"D:\\project\\softwareDevelopment\\IM-Web\\node_modules\\babel-loader\\lib\\index.js","mtime":1649921788503},{"path":"D:\\project\\softwareDevelopment\\IM-Web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1649921788008},{"path":"D:\\project\\softwareDevelopment\\IM-Web\\node_modules\\vue-loader\\lib\\index.js","mtime":1649921789185}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nexport default {\r\n  name: 'Schedule',\r\n  components: {\r\n  },\r\n  data() {\r\n    return {\r\n      dialogFormVisible: false,\r\n      dialogFormVisible1: false,\r\n      dialogFormVisible2: false,\r\n      value: new Date(),\r\n      yearMD: '',\r\n      scheduleData: [\r\n        {\"date\":\"周一\",\"consultant\":\"\",\"helper\":\"\",\"consultant_list\":[],\"helper_list\":[]},\r\n        {\"date\":\"周二\",\"consultant\":\"\",\"helper\":\"\",\"consultant_list\":[],\"helper_list\":[]},\r\n        {\"date\":\"周三\",\"consultant\":\"\",\"helper\":\"\",\"consultant_list\":[],\"helper_list\":[]},\r\n        {\"date\":\"周四\",\"consultant\":\"\",\"helper\":\"\",\"consultant_list\":[],\"helper_list\":[]},\r\n        {\"date\":\"周五\",\"consultant\":\"\",\"helper\":\"\",\"consultant_list\":[],\"helper_list\":[]},\r\n        {\"date\":\"周六\",\"consultant\":\"\",\"helper\":\"\",\"consultant_list\":[],\"helper_list\":[]},\r\n        {\"date\":\"周日\",\"consultant\":\"\",\"helper\":\"\",\"consultant_list\":[],\"helper_list\":[]},],\r\n      activeName: 'first',\r\n      tableConsultant: [\r\n      ],\r\n      tableHelper: [\r\n      ],\r\n      consultant_select:[],\r\n      helper_select:[],\r\n      consultant:'',\r\n      helper:'',\r\n      week_naw:''\r\n    }\r\n  },\r\n  mounted() {\r\n    this.getDateFunc()\r\n  },\r\n  methods: {\r\n    my_date_consultant(v) {\r\n      var week=new Date(v).getDay();\r\n      var weekString=''\r\n      switch (week){\r\n        case 0:\r\n          weekString=\"周日\"\r\n          break\r\n        case 1:\r\n          weekString=\"周一\"\r\n          break\r\n        case 2:\r\n          weekString=\"周二\"\r\n          break\r\n        case 3:\r\n          weekString=\"周三\"\r\n          break\r\n        case 4:\r\n          weekString=\"周四\"\r\n          break\r\n        case 5:\r\n          weekString=\"周五\"\r\n          break\r\n        case 6:\r\n          weekString=\"周六\"\r\n          break\r\n        default:\r\n          break\r\n      }\r\n      let len = this.scheduleData.length\r\n      let res = \"\"\r\n      for(let i=0; i<len; i++){\r\n        if(this.scheduleData[i].date == weekString) {\r\n          this.$http({\r\n            url: \"/admin/getWorkerList\",\r\n            method: \"post\",\r\n            crossdomain: true,\r\n            body:JSON.stringify({\r\n              \"schedule\": weekString,\r\n              \"role\":1\r\n            })\r\n          }).then(res => {\r\n            // console.log(res.data);\r\n            this.scheduleData[i].consultant_list = res.data.data;\r\n            this.scheduleData[i].consultant=\"咨询师：\"+res.data.data.length;\r\n            // console.log(this.scheduleData)\r\n          }).catch(err => {\r\n            console.log(err.data)\r\n          });\r\n          res = this.scheduleData[i].consultant\r\n          break\r\n        }\r\n      }\r\n      return res\r\n    },\r\n    my_date_helper(v) {\r\n      var week=new Date(v).getDay();\r\n      var weekString=''\r\n      switch (week){\r\n        case 0:\r\n          weekString=\"周日\"\r\n          break\r\n        case 1:\r\n          weekString=\"周一\"\r\n          break\r\n        case 2:\r\n          weekString=\"周二\"\r\n          break\r\n        case 3:\r\n          weekString=\"周三\"\r\n          break\r\n        case 4:\r\n          weekString=\"周四\"\r\n          break\r\n        case 5:\r\n          weekString=\"周五\"\r\n          break\r\n        case 6:\r\n          weekString=\"周六\"\r\n          break\r\n        default:\r\n          break\r\n      }\r\n      let len = this.scheduleData.length\r\n      let res = \"\"\r\n      for(let i=0; i<len; i++){\r\n        if(this.scheduleData[i].date == weekString) {\r\n          this.$http({\r\n            url: \"/admin/getWorkerList\",\r\n            method: \"post\",\r\n            crossdomain: true,\r\n            body:JSON.stringify({\r\n              \"schedule\": weekString,\r\n              \"role\":2\r\n            })\r\n          }).then(res => {\r\n            // console.log(res.data);\r\n            this.scheduleData[i].helper_list = res.data.data;\r\n            this.scheduleData[i].helper=\"督导：\"+res.data.data.length;\r\n            // console.log(this.scheduleData)\r\n          }).catch(err => {\r\n            console.log(err.data)\r\n          });\r\n          res = this.scheduleData[i].helper\r\n          break\r\n        }\r\n      }\r\n      return res\r\n    },\r\n    getDateFunc() {\r\n      // const year = new Date().getFullYear()\r\n      var month = new Date().getMonth() + 1\r\n      var day = new Date().getDate()\r\n      var week = new Date().getDay()\r\n      var weeks = ['星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六']\r\n      // console.log(week)\r\n      this.yearMD =\r\n        (month >= 10 ? month : '0' + month) +\r\n        '月' +\r\n        (day >= 10 ? day : '0' + day) +\r\n        '日' +\r\n        weeks[week]\r\n      var weekes = ['周日', '周一', '周二', '周三', '周四', '周五', '周六']\r\n      let len = this.scheduleData.length\r\n      this.week_naw=weekes[week]\r\n      for(let i=0; i<len; i++){\r\n        if(this.scheduleData[i].date == weekes[week]) {\r\n          this.$http({\r\n            url: \"/admin/getWorkerList\",\r\n            method: \"post\",\r\n            crossdomain: true,\r\n            body:JSON.stringify({\r\n              \"schedule\": weekes[week],\r\n              \"role\":1\r\n            })\r\n          }).then(res => {\r\n            // console.log(res.data);\r\n            this.tableConsultant=res.data.data\r\n          }).catch(err => {\r\n            console.log(err.data)\r\n          });\r\n          this.$http({\r\n            url: \"/admin/getWorkerList\",\r\n            method: \"post\",\r\n            crossdomain: true,\r\n            body:JSON.stringify({\r\n              \"schedule\": weekes[week],\r\n              \"role\":2\r\n            })\r\n          }).then(res => {\r\n            // console.log(res.data);\r\n            this.tableHelper=res.data.data\r\n          }).catch(err => {\r\n            console.log(err.data)\r\n          });\r\n          // console.log(\"d\")\r\n          // console.log(this.tableHelper)\r\n        }\r\n      }\r\n    },\r\n    getDateFunc_upDate(data) {\r\n      // const year = new Date(data).getFullYear()\r\n      var month = new Date(data).getMonth() + 1\r\n      var day = new Date(data).getDate()\r\n      var week = new Date(data).getDay()\r\n      var weeks = ['星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六']\r\n      // console.log(week)\r\n      this.yearMD =\r\n        (month >= 10 ? month : '0' + month) +\r\n        '月' +\r\n        (day >= 10 ? day : '0' + day) +\r\n        '日' +\r\n        weeks[week]\r\n      var weekes = ['周日', '周一', '周二', '周三', '周四', '周五', '周六']\r\n      let len = this.scheduleData.length\r\n      for(let i=0; i<len; i++){\r\n        if(this.scheduleData[i].date == weekes[week]) {\r\n          this.tableConsultant=this.scheduleData[i].consultant_list\r\n          this.tableHelper=this.scheduleData[i].helper_list\r\n        }\r\n      }\r\n    },\r\n    allcalendar(data) {\r\n      // this.dialogFormVisible=true\r\n      this.getDateFunc_upDate(data.day)\r\n      var week = new Date(data.day).getDay()\r\n      var weekes = ['周日', '周一', '周二', '周三', '周四', '周五', '周六']\r\n      this.week_naw=weekes[week]\r\n      console.log(this.week_naw)\r\n\r\n    },\r\n    handleClick(tab, event) {\r\n      console.log(tab, event);\r\n    },\r\n    move(row){\r\n        console.log(row)\r\n    },\r\n    add_consultant() {\r\n      console.log(\"d1\")\r\n      console.log(this.week_naw)\r\n      this.dialogFormVisible1=true;\r\n      this.$http({\r\n        url: \"/admin/getNotTodayWorker\",\r\n        method: \"post\",\r\n        crossdomain: true,\r\n        body:JSON.stringify({\r\n          \"schedule\": this.week_naw,\r\n          \"role\":\"0\"\r\n        })\r\n      }).then(res => {\r\n        console.log(res.data.data)\r\n        this.consultant_select=res.data.data\r\n      }).catch(err => {\r\n        console.log(err.data)\r\n      });\r\n    },\r\n    commit_consultant(){\r\n      console.log(this.consultant)\r\n      this.$http({\r\n        url: \"/admin/getWorker\",\r\n        method: \"post\",\r\n        crossdomain: true,\r\n        body:JSON.stringify({\r\n          \"id\":this.consultant\r\n        })\r\n      }).then(res => {\r\n        console.log(res.data.data)\r\n        var temp=res.data.data\r\n        this.$http({\r\n          url: \"/admin/updateWorker\",\r\n          method: \"post\",\r\n          crossdomain: true,\r\n          headers: {'Content-Type': 'application/json'},\r\n          body:JSON.stringify({\r\n            \"username\": temp.username,\r\n            \"role\": temp.role,\r\n            \"trueName\": temp.trueName,\r\n            \"gender\":temp.gender,\r\n            \"age\":temp.age,\r\n            \"idNumber\":temp.idNumber,\r\n            \"phone\":temp.phone,\r\n            \"email\":temp.email,\r\n            \"password\":temp.password,\r\n            \"work\":temp.work,\r\n            \"title\":temp.title,\r\n            \"qualification\":temp.qualification,\r\n            \"qualificationId\":temp.qualificationId,\r\n            // \"consultant\":this.form_change.consultant,\r\n            \"bindID\":temp.bindID,\r\n            \"available\":temp.available,\r\n            \"id\":temp.id,\r\n            \"state\":temp.state,\r\n            \"level\":temp.level,\r\n            \"schedule\":temp.schedule+\",\"+this.week_naw\r\n          })\r\n        }).then(res => {\r\n          this.dialogFormVisible3=false\r\n          alert(\"修改成功\")\r\n          this.initData();\r\n        }).catch(err => {\r\n          console.log(err.data)\r\n        });\r\n      }).catch(err => {\r\n        console.log(err.data)\r\n      });\r\n    }\r\n\r\n  },\r\n\r\n}\r\n",{"version":3,"sources":["schedule.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA","file":"schedule.vue","sourceRoot":"src/views/admin","sourcesContent":["<template>\r\n  <div class=\"page\">\r\n    <div class=\"left\">\r\n      <el-calendar v-model=\"value\" class=\"calender\"\r\n                   :first-day-of-week=\"7\"\r\n      >\r\n        <template slot=\"dateCell\" slot-scope=\"{date, data}\">\r\n          <div @click=\"allcalendar(data)\">\r\n            <p style=\"text-align: left;margin: 0px\">{{ data.day.split('-').slice(2).join('-') }}</p>\r\n            <p style=\"font-size: 10px;margin: 0px;line-height: 20px\">\r\n              {{my_date_consultant(data.day)}}<br>\r\n              {{my_date_helper(data.day)}}\r\n            </p>\r\n          </div>\r\n        </template>\r\n      </el-calendar>\r\n    </div>\r\n    <div class=\"right\">\r\n      <div class=\"time_now\">\r\n        {{ this.yearMD }}\r\n      </div>\r\n      <div class=\"table\">\r\n        <el-tabs v-model=\"activeName\" @tab-click=\"handleClick\">\r\n          <el-tab-pane label=\"咨询师\" name=\"first\">\r\n            <div class=\"table-1\">\r\n                <el-table\r\n                  :data=\"tableConsultant\"\r\n                  :row-style=\"{height:'50px'}\"\r\n                  :cell-style=\"{padding:'0px'}\"\r\n                  :show-header=\"false\"\r\n                >\r\n                  <el-table-column\r\n                    prop=\"trueName\"\r\n                    width=\"\"\r\n                    align=\"center\"\r\n                  />\r\n                  <el-table-column\r\n                    prop=\"gender\"\r\n                    width=\"\"\r\n                    align=\"center\"\r\n                  />\r\n                </el-table>\r\n            </div>\r\n\r\n          </el-tab-pane>\r\n          <el-tab-pane label=\"督导\" name=\"second\">\r\n            <div class=\"table-2\">\r\n              <el-table\r\n                :data=\"tableHelper\"\r\n                :row-style=\"{height:'50px'}\"\r\n                :cell-style=\"{padding:'0px'}\"\r\n                :show-header=\"false\"\r\n              >\r\n                <el-table-column\r\n                  prop=\"trueName\"\r\n                  width=\"\"\r\n                  align=\"center\"\r\n                />\r\n                <el-table-column\r\n                  prop=\"gender\"\r\n                  width=\"\"\r\n                  align=\"center\"\r\n                />\r\n              </el-table>\r\n            </div>\r\n          </el-tab-pane>\r\n        </el-tabs>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: 'Schedule',\r\n  components: {\r\n  },\r\n  data() {\r\n    return {\r\n      dialogFormVisible: false,\r\n      dialogFormVisible1: false,\r\n      dialogFormVisible2: false,\r\n      value: new Date(),\r\n      yearMD: '',\r\n      scheduleData: [\r\n        {\"date\":\"周一\",\"consultant\":\"\",\"helper\":\"\",\"consultant_list\":[],\"helper_list\":[]},\r\n        {\"date\":\"周二\",\"consultant\":\"\",\"helper\":\"\",\"consultant_list\":[],\"helper_list\":[]},\r\n        {\"date\":\"周三\",\"consultant\":\"\",\"helper\":\"\",\"consultant_list\":[],\"helper_list\":[]},\r\n        {\"date\":\"周四\",\"consultant\":\"\",\"helper\":\"\",\"consultant_list\":[],\"helper_list\":[]},\r\n        {\"date\":\"周五\",\"consultant\":\"\",\"helper\":\"\",\"consultant_list\":[],\"helper_list\":[]},\r\n        {\"date\":\"周六\",\"consultant\":\"\",\"helper\":\"\",\"consultant_list\":[],\"helper_list\":[]},\r\n        {\"date\":\"周日\",\"consultant\":\"\",\"helper\":\"\",\"consultant_list\":[],\"helper_list\":[]},],\r\n      activeName: 'first',\r\n      tableConsultant: [\r\n      ],\r\n      tableHelper: [\r\n      ],\r\n      consultant_select:[],\r\n      helper_select:[],\r\n      consultant:'',\r\n      helper:'',\r\n      week_naw:''\r\n    }\r\n  },\r\n  mounted() {\r\n    this.getDateFunc()\r\n  },\r\n  methods: {\r\n    my_date_consultant(v) {\r\n      var week=new Date(v).getDay();\r\n      var weekString=''\r\n      switch (week){\r\n        case 0:\r\n          weekString=\"周日\"\r\n          break\r\n        case 1:\r\n          weekString=\"周一\"\r\n          break\r\n        case 2:\r\n          weekString=\"周二\"\r\n          break\r\n        case 3:\r\n          weekString=\"周三\"\r\n          break\r\n        case 4:\r\n          weekString=\"周四\"\r\n          break\r\n        case 5:\r\n          weekString=\"周五\"\r\n          break\r\n        case 6:\r\n          weekString=\"周六\"\r\n          break\r\n        default:\r\n          break\r\n      }\r\n      let len = this.scheduleData.length\r\n      let res = \"\"\r\n      for(let i=0; i<len; i++){\r\n        if(this.scheduleData[i].date == weekString) {\r\n          this.$http({\r\n            url: \"/admin/getWorkerList\",\r\n            method: \"post\",\r\n            crossdomain: true,\r\n            body:JSON.stringify({\r\n              \"schedule\": weekString,\r\n              \"role\":1\r\n            })\r\n          }).then(res => {\r\n            // console.log(res.data);\r\n            this.scheduleData[i].consultant_list = res.data.data;\r\n            this.scheduleData[i].consultant=\"咨询师：\"+res.data.data.length;\r\n            // console.log(this.scheduleData)\r\n          }).catch(err => {\r\n            console.log(err.data)\r\n          });\r\n          res = this.scheduleData[i].consultant\r\n          break\r\n        }\r\n      }\r\n      return res\r\n    },\r\n    my_date_helper(v) {\r\n      var week=new Date(v).getDay();\r\n      var weekString=''\r\n      switch (week){\r\n        case 0:\r\n          weekString=\"周日\"\r\n          break\r\n        case 1:\r\n          weekString=\"周一\"\r\n          break\r\n        case 2:\r\n          weekString=\"周二\"\r\n          break\r\n        case 3:\r\n          weekString=\"周三\"\r\n          break\r\n        case 4:\r\n          weekString=\"周四\"\r\n          break\r\n        case 5:\r\n          weekString=\"周五\"\r\n          break\r\n        case 6:\r\n          weekString=\"周六\"\r\n          break\r\n        default:\r\n          break\r\n      }\r\n      let len = this.scheduleData.length\r\n      let res = \"\"\r\n      for(let i=0; i<len; i++){\r\n        if(this.scheduleData[i].date == weekString) {\r\n          this.$http({\r\n            url: \"/admin/getWorkerList\",\r\n            method: \"post\",\r\n            crossdomain: true,\r\n            body:JSON.stringify({\r\n              \"schedule\": weekString,\r\n              \"role\":2\r\n            })\r\n          }).then(res => {\r\n            // console.log(res.data);\r\n            this.scheduleData[i].helper_list = res.data.data;\r\n            this.scheduleData[i].helper=\"督导：\"+res.data.data.length;\r\n            // console.log(this.scheduleData)\r\n          }).catch(err => {\r\n            console.log(err.data)\r\n          });\r\n          res = this.scheduleData[i].helper\r\n          break\r\n        }\r\n      }\r\n      return res\r\n    },\r\n    getDateFunc() {\r\n      // const year = new Date().getFullYear()\r\n      var month = new Date().getMonth() + 1\r\n      var day = new Date().getDate()\r\n      var week = new Date().getDay()\r\n      var weeks = ['星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六']\r\n      // console.log(week)\r\n      this.yearMD =\r\n        (month >= 10 ? month : '0' + month) +\r\n        '月' +\r\n        (day >= 10 ? day : '0' + day) +\r\n        '日' +\r\n        weeks[week]\r\n      var weekes = ['周日', '周一', '周二', '周三', '周四', '周五', '周六']\r\n      let len = this.scheduleData.length\r\n      this.week_naw=weekes[week]\r\n      for(let i=0; i<len; i++){\r\n        if(this.scheduleData[i].date == weekes[week]) {\r\n          this.$http({\r\n            url: \"/admin/getWorkerList\",\r\n            method: \"post\",\r\n            crossdomain: true,\r\n            body:JSON.stringify({\r\n              \"schedule\": weekes[week],\r\n              \"role\":1\r\n            })\r\n          }).then(res => {\r\n            // console.log(res.data);\r\n            this.tableConsultant=res.data.data\r\n          }).catch(err => {\r\n            console.log(err.data)\r\n          });\r\n          this.$http({\r\n            url: \"/admin/getWorkerList\",\r\n            method: \"post\",\r\n            crossdomain: true,\r\n            body:JSON.stringify({\r\n              \"schedule\": weekes[week],\r\n              \"role\":2\r\n            })\r\n          }).then(res => {\r\n            // console.log(res.data);\r\n            this.tableHelper=res.data.data\r\n          }).catch(err => {\r\n            console.log(err.data)\r\n          });\r\n          // console.log(\"d\")\r\n          // console.log(this.tableHelper)\r\n        }\r\n      }\r\n    },\r\n    getDateFunc_upDate(data) {\r\n      // const year = new Date(data).getFullYear()\r\n      var month = new Date(data).getMonth() + 1\r\n      var day = new Date(data).getDate()\r\n      var week = new Date(data).getDay()\r\n      var weeks = ['星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六']\r\n      // console.log(week)\r\n      this.yearMD =\r\n        (month >= 10 ? month : '0' + month) +\r\n        '月' +\r\n        (day >= 10 ? day : '0' + day) +\r\n        '日' +\r\n        weeks[week]\r\n      var weekes = ['周日', '周一', '周二', '周三', '周四', '周五', '周六']\r\n      let len = this.scheduleData.length\r\n      for(let i=0; i<len; i++){\r\n        if(this.scheduleData[i].date == weekes[week]) {\r\n          this.tableConsultant=this.scheduleData[i].consultant_list\r\n          this.tableHelper=this.scheduleData[i].helper_list\r\n        }\r\n      }\r\n    },\r\n    allcalendar(data) {\r\n      // this.dialogFormVisible=true\r\n      this.getDateFunc_upDate(data.day)\r\n      var week = new Date(data.day).getDay()\r\n      var weekes = ['周日', '周一', '周二', '周三', '周四', '周五', '周六']\r\n      this.week_naw=weekes[week]\r\n      console.log(this.week_naw)\r\n\r\n    },\r\n    handleClick(tab, event) {\r\n      console.log(tab, event);\r\n    },\r\n    move(row){\r\n        console.log(row)\r\n    },\r\n    add_consultant() {\r\n      console.log(\"d1\")\r\n      console.log(this.week_naw)\r\n      this.dialogFormVisible1=true;\r\n      this.$http({\r\n        url: \"/admin/getNotTodayWorker\",\r\n        method: \"post\",\r\n        crossdomain: true,\r\n        body:JSON.stringify({\r\n          \"schedule\": this.week_naw,\r\n          \"role\":\"0\"\r\n        })\r\n      }).then(res => {\r\n        console.log(res.data.data)\r\n        this.consultant_select=res.data.data\r\n      }).catch(err => {\r\n        console.log(err.data)\r\n      });\r\n    },\r\n    commit_consultant(){\r\n      console.log(this.consultant)\r\n      this.$http({\r\n        url: \"/admin/getWorker\",\r\n        method: \"post\",\r\n        crossdomain: true,\r\n        body:JSON.stringify({\r\n          \"id\":this.consultant\r\n        })\r\n      }).then(res => {\r\n        console.log(res.data.data)\r\n        var temp=res.data.data\r\n        this.$http({\r\n          url: \"/admin/updateWorker\",\r\n          method: \"post\",\r\n          crossdomain: true,\r\n          headers: {'Content-Type': 'application/json'},\r\n          body:JSON.stringify({\r\n            \"username\": temp.username,\r\n            \"role\": temp.role,\r\n            \"trueName\": temp.trueName,\r\n            \"gender\":temp.gender,\r\n            \"age\":temp.age,\r\n            \"idNumber\":temp.idNumber,\r\n            \"phone\":temp.phone,\r\n            \"email\":temp.email,\r\n            \"password\":temp.password,\r\n            \"work\":temp.work,\r\n            \"title\":temp.title,\r\n            \"qualification\":temp.qualification,\r\n            \"qualificationId\":temp.qualificationId,\r\n            // \"consultant\":this.form_change.consultant,\r\n            \"bindID\":temp.bindID,\r\n            \"available\":temp.available,\r\n            \"id\":temp.id,\r\n            \"state\":temp.state,\r\n            \"level\":temp.level,\r\n            \"schedule\":temp.schedule+\",\"+this.week_naw\r\n          })\r\n        }).then(res => {\r\n          this.dialogFormVisible3=false\r\n          alert(\"修改成功\")\r\n          this.initData();\r\n        }).catch(err => {\r\n          console.log(err.data)\r\n        });\r\n      }).catch(err => {\r\n        console.log(err.data)\r\n      });\r\n    }\r\n\r\n  },\r\n\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import '~@fullcalendar/core/main.css';\r\n@import '~@fullcalendar/daygrid/main.css';\r\n@import '~@fullcalendar/timegrid/main.css';\r\n.page{\r\n  position: relative;\r\n  width: 100%;\r\n  height: 96%;\r\n  text-align: center;\r\n  .left{\r\n    width: 76%;\r\n    position: absolute;\r\n    left: 20px;\r\n    top: 20px;\r\n    height: 97%;\r\n    overflow: auto;\r\n    .calender{\r\n      width: 100%;\r\n      height: 100%;\r\n      font-size: 20px;\r\n    }\r\n  }\r\n  .right{\r\n    position: absolute;\r\n    background-color: white;\r\n    width: 20%;\r\n    right: 0px;\r\n    top: 20px;\r\n    height: 97%;\r\n    overflow: auto;\r\n    .time_now{\r\n      width: 100%;\r\n      font-size: 1.5em;\r\n      padding: 20px;\r\n      border-bottom: rgba(0,0,0,0.2) 1px solid;\r\n    }\r\n    .table{\r\n      overflow: auto;\r\n      text-align: center;\r\n      .el-tabs__item{\r\n        font-size:20px !important;\r\n        padding: 10px;\r\n        padding-left: 60px;\r\n        margin-bottom: 20px;\r\n        text-align: center;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n</style>\r\n"]}]}